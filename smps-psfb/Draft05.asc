Version 4
SHEET 1 5720 1884
WIRE 816 256 752 256
WIRE 880 256 816 256
WIRE 992 256 944 256
WIRE 1056 256 992 256
WIRE 1184 256 1120 256
WIRE 2032 304 1968 304
WIRE 2144 304 2096 304
WIRE 2256 304 2144 304
WIRE 2432 304 2336 304
WIRE 2496 304 2432 304
WIRE 992 320 992 256
WIRE 1360 320 1344 320
WIRE 2432 320 2432 304
WIRE 528 368 304 368
WIRE 816 384 816 256
WIRE 864 384 816 384
WIRE 1280 384 1280 320
WIRE 1280 384 1120 384
WIRE 1360 384 1360 320
WIRE 1440 384 1360 384
WIRE 2432 384 1968 384
WIRE 2496 384 2432 384
WIRE 1488 416 1488 400
WIRE 1616 416 1488 416
WIRE 1776 416 1776 400
WIRE 1776 416 1696 416
WIRE 2496 432 2496 384
WIRE 304 464 304 368
WIRE 576 464 496 464
WIRE 864 464 576 464
WIRE 1184 464 1184 256
WIRE 1184 464 1120 464
WIRE 1488 464 1488 416
WIRE 1488 464 1184 464
WIRE 2048 464 1968 464
WIRE 2144 464 2144 304
WIRE 2144 464 2112 464
WIRE 128 496 32 496
WIRE 208 496 128 496
WIRE 304 496 208 496
WIRE 528 528 528 368
WIRE 528 528 496 528
WIRE 688 528 528 528
WIRE 688 544 688 528
WIRE 864 544 688 544
WIRE 1280 544 1120 544
WIRE 1440 544 1360 544
WIRE 1280 608 1280 544
WIRE 1360 608 1360 544
WIRE 1360 608 1344 608
WIRE 992 656 992 608
WIRE 816 816 752 816
WIRE 880 816 816 816
WIRE 992 816 944 816
WIRE 1056 816 992 816
WIRE 1184 816 1120 816
WIRE 576 848 576 464
WIRE 576 848 304 848
WIRE 992 880 992 816
WIRE 1360 896 1344 896
WIRE 816 944 816 816
WIRE 864 944 816 944
WIRE 1280 944 1280 896
WIRE 1280 944 1120 944
WIRE 1360 944 1360 896
WIRE 1392 944 1360 944
WIRE 1440 976 1440 960
WIRE 1776 976 1776 416
WIRE 1776 976 1440 976
WIRE 304 1024 304 848
WIRE 864 1024 496 1024
WIRE 1184 1024 1184 816
WIRE 1184 1024 1120 1024
WIRE 1440 1024 1440 976
WIRE 1440 1024 1184 1024
WIRE 128 1056 128 496
WIRE 304 1056 240 1056
WIRE 496 1104 496 1088
WIRE 864 1104 496 1104
WIRE 1280 1104 1120 1104
WIRE 1392 1104 1360 1104
WIRE 1440 1152 1440 1120
WIRE 1488 1152 1488 560
WIRE 1488 1152 1440 1152
WIRE 1280 1184 1280 1104
WIRE 1360 1184 1360 1104
WIRE 1360 1184 1344 1184
WIRE 1440 1200 1440 1152
WIRE 1584 1200 1440 1200
WIRE 992 1216 992 1168
FLAG -528 -80 0
FLAG -528 -160 VCC
FLAG 1440 1280 0
FLAG -704 -64 0
FLAG -704 -144 P15V
FLAG 1584 1200 IRAMP
FLAG 2496 432 0
FLAG 208 496 DR
FLAG 32 576 0
FLAG 400 944 VCC
FLAG 400 384 VCC
FLAG 400 608 VCC
FLAG 992 656 0
FLAG 1488 304 P15V
FLAG -528 176 0
FLAG -528 96 P10V
FLAG 752 256 P10V
FLAG 400 1168 VCC
FLAG 992 1216 0
FLAG 1440 864 P15V
FLAG 752 816 P10V
SYMBOL voltage -528 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 48 40 Left 2
SYMATTR Value 5
SYMATTR InstName V2
SYMBOL ind2 1600 432 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL res 1424 1184 R0
SYMATTR InstName R1
SYMATTR Value 0.1
SYMBOL ind2 1952 400 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L3
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL voltage -704 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 48 40 Left 2
SYMATTR Value 15
SYMATTR InstName V4
SYMBOL res 2480 288 R0
SYMATTR InstName R5
SYMATTR Value 50R
SYMBOL voltage 32 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -271 -43 Left 2
WINDOW 0 -23 -10 Left 2
SYMATTR Value PULSE(0 3.3 0 100n 100n 0.05ms 0.1ms 14)
SYMATTR InstName VIN1
SYMBOL 74hc74 400 944 R0
SYMATTR InstName U1
SYMBOL 74hc74 400 384 R0
SYMATTR InstName U3
SYMBOL ind2 1952 480 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L4
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL ind2 2240 288 M90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L5
SYMATTR Value 400µ
SYMATTR Type ind
SYMBOL schottky 2032 320 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value SS3P5
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2048 480 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value SS3P5
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 2416 320 R0
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL PowerProducts\\LTC4446 992 464 R0
SYMATTR InstName U8
SYMBOL res 1376 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10R
SYMBOL res 1376 528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10R
SYMBOL cap 1120 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL schottky 880 272 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL nmos 1440 304 R0
SYMATTR InstName M3
SYMATTR Value Si4228DY
SYMATTR Prefix X
SYMBOL nmos 1440 464 R0
SYMATTR InstName M1
SYMATTR Value Si4228DY
SYMATTR Prefix X
SYMBOL voltage -528 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 48 40 Left 2
SYMATTR Value 10
SYMATTR InstName V3
SYMBOL 74hc04 176 992 R0
SYMATTR InstName U2
SYMBOL PowerProducts\\LTC4446 992 1024 R0
SYMATTR InstName U4
SYMBOL res 1376 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10R
SYMBOL res 1376 1088 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10R
SYMBOL cap 1120 800 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL schottky 880 832 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL nmos 1392 864 R0
SYMATTR InstName M2
SYMATTR Value Si4228DY
SYMATTR Prefix X
SYMBOL nmos 1392 1024 R0
SYMATTR InstName M4
SYMATTR Value Si4228DY
SYMATTR Prefix X
SYMBOL schottky 1344 304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -52 26 VTop 2
SYMATTR InstName D5
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1344 592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D6
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1344 880 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -52 26 VTop 2
SYMATTR InstName D7
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 1344 1168 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 47 35 VTop 2
SYMATTR InstName D8
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
TEXT -168 -224 Left 2 !.tran 1.5ms
TEXT -208 -312 Left 2 !.include 74hc.lib
TEXT 608 8 Left 2 !K L1 L3 L4 0.99.5
TEXT -184 -368 Left 2 !.include standard.bjt
TEXT -176 -272 Left 2 !.include LM311.301
TEXT 840 -48 Left 2 ;Needs a rectifier, and output inductor for ramp
TEXT -208 -472 Left 2 !.include my.lib
