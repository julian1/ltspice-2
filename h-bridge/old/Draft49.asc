Version 4
SHEET 1 3300 1956
WIRE 464 -208 464 -288
WIRE 2720 -208 2496 -208
WIRE 1136 -192 960 -192
WIRE 1200 -192 1136 -192
WIRE 1264 -192 1200 -192
WIRE 1408 -192 1264 -192
WIRE 1872 -192 1728 -192
WIRE 1968 -192 1872 -192
WIRE 2000 -192 1968 -192
WIRE 2176 -192 2000 -192
WIRE 960 -160 960 -192
WIRE 1408 -160 1408 -192
WIRE 1728 -160 1728 -192
WIRE 2176 -160 2176 -192
WIRE 2496 -160 2496 -208
WIRE 2720 -160 2720 -208
WIRE 1136 -112 1024 -112
WIRE 1344 -112 1264 -112
WIRE 1872 -112 1792 -112
WIRE 2112 -112 2000 -112
WIRE 1072 -64 960 -64
WIRE 2176 -64 2064 -64
WIRE 2496 -16 2496 -80
WIRE 2720 -16 2720 -80
WIRE 2720 -16 2496 -16
WIRE 1264 48 1264 -112
WIRE 1872 48 1872 -112
WIRE 2720 64 2720 -16
WIRE 1136 96 1136 -16
WIRE 1136 96 1072 96
WIRE 1200 96 1136 96
WIRE 2000 96 2000 -16
WIRE 2000 96 1936 96
WIRE 2064 96 2000 96
WIRE 1408 144 1408 -64
WIRE 1408 144 1264 144
WIRE 1728 144 1728 -64
WIRE 1872 144 1728 144
WIRE 1136 176 1136 160
WIRE 1408 224 1408 144
WIRE 1520 224 1408 224
WIRE 1536 224 1520 224
WIRE 1664 224 1616 224
WIRE 1728 224 1728 144
WIRE 1728 224 1664 224
WIRE 2064 224 2064 160
WIRE 2064 224 2000 224
WIRE 1072 240 1072 160
WIRE 1136 240 1072 240
WIRE 432 288 320 288
WIRE 528 288 512 288
WIRE 592 288 528 288
WIRE 672 288 656 288
WIRE 896 288 672 288
WIRE 992 288 976 288
WIRE 1408 288 1408 224
WIRE 1408 288 1072 288
WIRE 1728 288 1728 224
WIRE 2064 288 1728 288
WIRE 2272 288 2224 288
WIRE 2320 288 2272 288
WIRE 1408 368 1408 288
WIRE 1408 368 1264 368
WIRE 1728 368 1728 288
WIRE 1872 368 1728 368
WIRE 528 400 528 288
WIRE 560 400 528 400
WIRE 992 400 992 288
WIRE 1024 400 992 400
WIRE 2144 400 2144 288
WIRE 2144 400 2112 400
WIRE 672 416 672 288
WIRE 672 416 624 416
WIRE 1136 416 1136 240
WIRE 1136 416 1088 416
WIRE 1168 416 1136 416
WIRE 1200 416 1168 416
WIRE 1968 416 1936 416
WIRE 2000 416 2000 224
WIRE 2000 416 1968 416
WIRE 2048 416 2000 416
WIRE 560 432 528 432
WIRE 1024 432 992 432
WIRE 2144 432 2112 432
WIRE 528 480 528 432
WIRE 1168 496 1168 416
WIRE 1968 496 1968 416
WIRE 1408 512 1408 368
WIRE 1728 512 1728 368
WIRE 1264 560 1264 464
WIRE 1264 560 1168 560
WIRE 1344 560 1264 560
WIRE 1872 560 1872 464
WIRE 1872 560 1792 560
WIRE 1968 560 1872 560
WIRE 1264 640 1072 640
WIRE 1408 640 1408 608
WIRE 1408 640 1264 640
WIRE 1728 640 1728 608
WIRE 1872 640 1728 640
WIRE 2112 640 1872 640
WIRE 1264 688 1264 640
WIRE 1872 688 1872 640
FLAG 464 -368 VCC
FLAG 1520 224 VOUT
FLAG 1200 -192 VCC
FLAG 1264 688 0
FLAG 464 -208 0
FLAG 704 736 0
FLAG 1056 384 VCC
FLAG 960 16 0
FLAG 1664 224 VOUT2
FLAG 1968 -192 VCC
FLAG 1872 688 0
FLAG 2080 448 0
FLAG 2080 384 VCC
FLAG 2176 16 0
FLAG 2272 288 VOUT
FLAG 2720 64 0
FLAG 704 656 BYPASS
FLAG 992 432 BYPASS
FLAG 2144 432 BYPASS
FLAG 1056 448 0
FLAG 320 368 0
FLAG 528 560 0
FLAG 592 448 0
FLAG 592 384 VCC
SYMBOL pnp 1072 -16 M180
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL pnp 1024 -64 R180
SYMATTR InstName Q3
SYMATTR Value 2N3906
SYMBOL res 1152 -208 M0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL voltage 464 -384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 42 41 Left 2
SYMATTR Value 6
SYMATTR InstName V1
SYMBOL res 976 -80 M0
SYMATTR InstName R8
SYMATTR Value 20k
SYMBOL npn 1200 48 R0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL pnp 1200 464 M180
SYMATTR InstName Q6
SYMATTR Value 2N3906
SYMBOL res 880 304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 20k
SYMBOL diode 1120 96 R0
SYMATTR InstName D1
SYMBOL diode 1120 176 R0
SYMATTR InstName D2
SYMBOL voltage 704 640 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 51 83 Left 2
WINDOW 0 52 43 Left 2
SYMATTR Value 2.5
SYMATTR InstName VIN2
SYMBOL res 1248 -208 R0
SYMATTR InstName R3
SYMATTR Value 270
SYMBOL res 1248 544 R0
SYMATTR InstName R4
SYMATTR Value 270
SYMBOL pnp 1344 -64 M180
SYMATTR InstName Q10
SYMATTR Value MJE15035
SYMBOL npn 1344 512 R0
SYMATTR InstName Q11
SYMATTR Value MJE15034
SYMBOL OpAmps\\LT1006 1056 352 R0
SYMATTR InstName U1
SYMBOL pnp 2064 -16 R180
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL pnp 2112 -64 M180
SYMATTR InstName Q4
SYMATTR Value 2N3906
SYMBOL res 1984 -208 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 2160 -80 R0
SYMATTR InstName R2
SYMATTR Value 20k
SYMBOL npn 1936 48 M0
SYMATTR InstName Q7
SYMATTR Value 2N3904
SYMBOL pnp 1936 464 R180
SYMATTR InstName Q8
SYMATTR Value 2N3906
SYMBOL res 2240 304 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value 20k
SYMBOL diode 2016 96 M0
SYMATTR InstName D3
SYMBOL diode 2016 160 M0
SYMATTR InstName D4
SYMBOL res 1888 -208 M0
SYMATTR InstName R13
SYMATTR Value 270
SYMBOL res 1888 544 M0
SYMATTR InstName R15
SYMATTR Value 270
SYMBOL pnp 1792 -64 R180
SYMATTR InstName Q9
SYMATTR Value MJE15035
SYMBOL npn 1792 512 M0
SYMATTR InstName Q12
SYMATTR Value MJE15034
SYMBOL res 2736 -176 M0
SYMATTR InstName R16
SYMATTR Value 200R
SYMBOL OpAmps\\LT1006 2080 352 M0
SYMATTR InstName U2
SYMBOL res 2160 304 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R17
SYMATTR Value 20k
SYMBOL ind2 2512 -64 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 32m
SYMATTR Type ind
SYMBOL res 976 304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value 20k
SYMBOL ind2 1632 208 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL voltage 320 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -271 -43 Left 2
WINDOW 0 -23 -10 Left 2
SYMATTR Value PULSE(0 3.3 0 100n 100n 0.2ms 0.4ms 14)
SYMATTR InstName VIN3
SYMBOL res 416 304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value 5k
SYMBOL cap 656 272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 5n
SYMBOL voltage 528 464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 51 83 Left 2
WINDOW 0 52 43 Left 2
SYMATTR Value 1.6
SYMATTR InstName VIN4
SYMBOL OpAmps\\LT1006 592 352 R0
SYMATTR InstName U3
SYMBOL cap 1088 160 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL cap 2080 160 R180
WINDOW 0 -41 60 Left 2
WINDOW 3 -63 20 Left 2
SYMATTR InstName C3
SYMATTR Value 100n
TEXT 688 -392 Left 2 !.tran 6ms
TEXT 240 -88 Left 2 !.include standard.bjt
TEXT 984 -576 Left 2 ;- similar to lm4871\n- still have issue of potential flux walk\n- consider add protective diodes, across output bjt.\n- consider remove 0.1R. emitter degenerators\n -consider series resistor with output of bjt.\n- advantage of op-amp, can also drive with pure sine-wave\n \n- use two inverters. so can use with sinwave as well as slewed square wave\n- use duals for pnp, diode, op-amp. and resistor array to reduce part count
TEXT 464 120 Left 2 ;ie. integrator\ncan be sin wave generator also,
TEXT 2120 488 Left 2 ;ie. inverter
TEXT 2048 -464 Left 2 ;also try lo nmos hi /pmos . should be possible with square wave. \nand diodes for fast switch off
TEXT 2528 -312 Left 2 !K  L1 L2 0.99
TEXT 448 392 Left 2 ;plus
TEXT 880 496 Left 2 ;ie. inverter, \nto centre around bypass.
