Version 4
SHEET 1 3300 1956
WIRE 464 -208 464 -288
WIRE 2720 -208 2496 -208
WIRE 1072 -192 1008 -192
WIRE 1200 -192 1072 -192
WIRE 1344 -192 1200 -192
WIRE 1728 -192 1344 -192
WIRE 1872 -192 1728 -192
WIRE 2240 -192 1872 -192
WIRE 1344 -160 1344 -192
WIRE 1728 -160 1728 -192
WIRE 2496 -160 2496 -208
WIRE 2720 -160 2720 -208
WIRE 1280 -112 1200 -112
WIRE 1872 -112 1792 -112
WIRE 2496 -16 2496 -80
WIRE 2720 -16 2720 -80
WIRE 2720 -16 2496 -16
WIRE 1200 48 1200 -112
WIRE 1872 48 1872 -112
WIRE 2720 64 2720 -16
WIRE 704 96 640 96
WIRE 848 96 816 96
WIRE 912 96 848 96
WIRE 1136 96 992 96
WIRE 2016 96 1936 96
WIRE 1344 224 1344 -64
WIRE 1456 224 1344 224
WIRE 1504 224 1456 224
WIRE 1664 224 1584 224
WIRE 1728 224 1728 -64
WIRE 1728 224 1664 224
WIRE 1200 384 1200 224
WIRE 1824 384 1200 384
WIRE 1872 448 1872 224
WIRE 1872 448 1200 448
WIRE 1824 496 1824 384
WIRE 1872 496 1824 496
WIRE 1344 512 1344 224
WIRE 1728 512 1728 224
WIRE 1200 560 1200 448
WIRE 1280 560 1200 560
WIRE 1872 560 1872 496
WIRE 1872 560 1792 560
WIRE 1200 640 1008 640
WIRE 1344 640 1344 608
WIRE 1344 640 1200 640
WIRE 1728 640 1728 608
WIRE 1728 640 1344 640
WIRE 1872 640 1728 640
WIRE 2112 640 1872 640
WIRE 1200 688 1200 640
FLAG 464 -368 VCC
FLAG 1456 224 VOUT
FLAG 640 176 0
FLAG 1072 -192 VCC
FLAG 1200 688 0
FLAG 464 -208 0
FLAG 1664 224 VOUT2
FLAG 848 96 DRIVE0
FLAG 2208 96 DRIVE0
SYMBOL voltage 464 -384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 42 41 Left 2
SYMATTR Value 6
SYMATTR InstName V1
SYMBOL npn 1136 48 R0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL voltage 640 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -271 -43 Left 2
WINDOW 0 -23 -10 Left 2
SYMATTR Value PULSE(0 3.3 0 100n 100n 0.2ms 0.4ms 14)
SYMATTR InstName VIN1
SYMBOL res 896 112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res 1184 -208 R0
SYMATTR InstName R3
SYMATTR Value 270
SYMBOL res 1184 544 R0
SYMATTR InstName R4
SYMATTR Value 270
SYMBOL pnp 1280 -64 M180
SYMATTR InstName Q10
SYMATTR Value MJE15035
SYMBOL npn 1280 512 R0
SYMATTR InstName Q11
SYMATTR Value MJE15034
SYMBOL npn 1936 48 M0
SYMATTR InstName Q7
SYMATTR Value 2N3904
SYMBOL res 1888 -208 M0
SYMATTR InstName R13
SYMATTR Value 270
SYMBOL res 1888 544 M0
SYMATTR InstName R15
SYMATTR Value 270
SYMBOL pnp 1792 -64 R180
SYMATTR InstName Q9
SYMATTR Value MJE15035
SYMBOL npn 1792 512 M0
SYMATTR InstName Q12
SYMATTR Value MJE15034
SYMBOL res 2736 -176 M0
SYMATTR InstName R16
SYMATTR Value 10R
SYMBOL ind2 1600 208 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL ind2 2512 -64 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL res 1856 128 R0
SYMATTR InstName R1
SYMATTR Value 0.1
SYMBOL res 1184 128 R0
SYMATTR InstName R2
SYMATTR Value 0.1
SYMBOL res 2112 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL 74hc04 2160 160 R180
SYMATTR InstName U2
SYMBOL 74hc04 752 32 R0
SYMATTR InstName U1
TEXT 688 -392 Left 2 !.tran 6ms
TEXT 928 200 Left 2 ;plus
TEXT 232 376 Left 2 ;input 0-3v3 square wave input.\nfrom mcu/ oscillator etc
TEXT 240 -88 Left 2 !.include standard.bjt
TEXT 984 -576 Left 2 ;- still have issue of potential flux walk\n- consider add protective diodes, across output bjt.\n- consider remove 0.1R. emitter degenerators\n -consider series resistor with output of bjt.\n- advantage of op-amp, can also drive with pure sine-wave
TEXT 2480 -312 Left 2 !K  L1 L2 1
TEXT 264 -40 Left 2 !.include 74hc.lib
